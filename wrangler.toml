name = "todoist-things-sync"
main = "src/index.ts"
compatibility_date = "2025-07-25"

[vars]
TODOIST_API_URL = "https://api.todoist.com/rest/v2"
# Generate a secure token with: openssl rand -hex 32
REPAIR_AUTH_TOKEN = "86143aa681404dde9c74103a78ce2fbcd8a1cd2cd7bf908b42395f369e90c436"

# KV namespace for storing sync metadata and ID mappings
[[kv_namespaces]]
binding = "SYNC_METADATA"
id = "63e1a66560e24129bfe0915501554381"

# Run `wrangler secret put TODOIST_API_TOKEN` to set your token

# Cron triggers for scheduled sync operations
[triggers]
crons = ["*/2 * * * *"]  # Run every 2 minutes